<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Units and Scale</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="bf6f855b-d3b3-49c0-a341-a31f922bb4da" /><meta name="Description" content="The physics engine does not really care whether 1 unit is 1 m or 1 inch. However, the default settings are all specified in SI standard unit (m, s, kg, …)." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">DigitalRune Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="38bd0f53-477c-48c5-91cc-b9fb7062ceb3.htm" title="DigitalRune Documentation" tocid="roottoc">DigitalRune Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="79a8677d-9460-4118-b27b-cef353dfbd92.htm" title="DigitalRune Physics" tocid="79a8677d-9460-4118-b27b-cef353dfbd92">DigitalRune Physics</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="81a6e7ab-bdd3-43d6-b20c-5322ff3f936a.htm" title="Advanced Topics" tocid="81a6e7ab-bdd3-43d6-b20c-5322ff3f936a">Advanced Topics</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="a8933d84-3eee-430c-a472-4fe0db5c1ecd.htm" title="Collision Response Filter" tocid="a8933d84-3eee-430c-a472-4fe0db5c1ecd">Collision Response Filter</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="b52c86be-d31e-4c6f-9892-331af87a0703.htm" title="Continuous Collision Detection" tocid="b52c86be-d31e-4c6f-9892-331af87a0703">Continuous Collision Detection</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="fae52e31-ede2-451e-b107-e42db486d69c.htm" title="Simulation Islands" tocid="fae52e31-ede2-451e-b107-e42db486d69c">Simulation Islands</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="059ddf90-e473-470c-a59c-ee26feff7d12.htm" title="Sleeping" tocid="059ddf90-e473-470c-a59c-ee26feff7d12">Sleeping</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="c4a491c9-bc08-48fa-b85f-7bac2e78e295.htm" title="Timing" tocid="c4a491c9-bc08-48fa-b85f-7bac2e78e295">Timing</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="84231d22-23c1-446c-9e17-36ad2a081133.htm" title="Multithreading" tocid="84231d22-23c1-446c-9e17-36ad2a081133">Multithreading</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="99a61094-6bb9-495a-a037-99bd06d401d6.htm" title="Resource Pooling" tocid="99a61094-6bb9-495a-a037-99bd06d401d6">Resource Pooling</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="bf6f855b-d3b3-49c0-a341-a31f922bb4da.htm" title="Units and Scale" tocid="bf6f855b-d3b3-49c0-a341-a31f922bb4da">Units and Scale</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="DigitalRune" src="../icons/DigitalRune-Logo.png" /></td><td class="titleColumn">Units and Scale</td></tr></table><span class="introStyle"></span><div class="collapsibleAreaRegion" id="Units"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Which units and which scale should I use?</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
                    The physics engine does not really care whether 1 unit is 1 m or 1 inch. However, the
                    default settings are all specified in SI standard unit (m, s, kg, …). The default settings
                    are optimized (hand tweaked) for typical action games where, for example, a character is
                    1.80 m, a crate is about 1m x 1m x 1m, … and the ratio between the smallest and largest
                    object in the simulation is about 1:10.
                </p><p>
                    So there are some cases to consider:
                </p><ul><li>
                        If you use a different system of units, you have to convert all dependent simulation settings.
                    </li><li>
                        If you use a vastly different scale, you have to make additional adjustments.
                    </li><li>
                        If you simulate both extremely small objects and very large objects in the same
                        simulation, you will have to increase the precision of the physics simulation.
                    </li></ul><p>
                    Let's go through these cases one by one:
                </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Case #1: Game uses units other than the SI standard units</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
                    In this case you have to convert the default settings from SI standard units to the
                    new units. Here is a list of the relevant settings and the units used by the default
                    values:
                </p><ul><li><a href="5f34fb4e-7033-2e1a-beda-d5a25118f8ff.htm">ContactPositionTolerance</a>
                        of
                        <a href="92eb27e8-297a-7a5f-df8b-88c15b8ba889.htm">Simulation<span id="LSTAE5C52AC_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CollisionDomain</a>
                        [m]
                    </li><li><a href="1fd18dcf-8fa3-da67-3676-5bd264b25717.htm">ConstraintSettings<span id="LSTAE5C52AC_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>AllowedAngularDeviation</a>
                        [rad]
                    </li><li><a href="03caeeeb-0ee5-2509-5964-8b65ef19b067.htm">ConstraintSettings<span id="LSTAE5C52AC_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>AllowedLinearDeviation</a>
                        [m]
                    </li><li><a href="d480ddff-fdee-a334-af49-f93ae77f9521.htm">ConstraintSettings<span id="LSTAE5C52AC_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>AllowedPenetration</a>
                        [m]
                    </li><li><a href="99d2a6b7-c262-5152-8b6c-67d77327d031.htm">ConstraintSettings<span id="LSTAE5C52AC_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MaxErrorCorrectionVelocity</a>
                        [m/s]
                    </li><li><a href="2115831a-9a76-1285-0f7d-5d0f5fbcc7e1.htm">ConstraintSettings<span id="LSTAE5C52AC_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MaxPenetrationCorrectionVelocity</a>
                        [m/s]
                    </li><li><a href="87417629-75a1-e0ac-f030-becc9225700d.htm">ConstraintSettings<span id="LSTAE5C52AC_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MinConstraintImpulse</a>
                        [kg∙m/s]
                    </li><li><a href="df0b573a-55bf-b1f9-7f41-1316ef748c46.htm">ConstraintSettings<span id="LSTAE5C52AC_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>RestingVelocityLimit</a>
                        [m/s]
                    </li><li><a href="8efaeb9c-1ef6-38a1-3be0-06e04fea9eb3.htm">MotionSettings<span id="LSTAE5C52AC_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CcdVelocityThreshold</a>
                        [m/s]
                    </li><li><a href="32b156a0-c986-6c86-769e-a125725a2a50.htm">MotionSettings<span id="LSTAE5C52AC_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_9?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MaxAngularVelocity</a>
                        [rad/s]
                    </li><li><a href="bbcad17a-fd8f-47a9-edd5-9b08612cb922.htm">MotionSettings<span id="LSTAE5C52AC_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_10?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MaxLinearVelocity</a>
                        [m/s]
                    </li><li><a href="ff1eec11-1b92-88d4-f0cc-1a03f57639b8.htm">SleepingSettings<span id="LSTAE5C52AC_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_11?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>AngularVelocityThreshold</a>
                        [rad/s]
                    </li><li><a href="c9b12100-a980-2cfc-128b-69acb39d5a30.htm">SleepingSettings<span id="LSTAE5C52AC_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_12?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>LinearVelocityThreshold</a>
                        [m/s]
                    </li><li><a href="9d832598-7b83-a624-9e3e-94e0a025626f.htm">SleepingSettings<span id="LSTAE5C52AC_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_13?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>TimeThreshold</a>
                        [s]
                    </li></ul><p>
                    So there are quite a lot parameters to change. Therefore, we recommend using the
                    standard units. You can also convert the game objects on-the-fly to or from standard
                    units when interfacing with the physics engine.
                </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Case #2: Game uses a vastly different scale</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
                    Let's assume the game uses a larger scale: Objects are 100 units in size or larger.
                    In this case you need to adjust the settings accordingly. For example, the default
                    <a href="5f34fb4e-7033-2e1a-beda-d5a25118f8ff.htm">ContactPositionTolerance</a>
                    is 0.01 (= 1 cm) which does not make sense in such a scenario. The
                    <a href="99d2a6b7-c262-5152-8b6c-67d77327d031.htm">MaxErrorCorrectionVelocity</a>
                    is 100 (= 100 m/s) which is not enough for really large objects. Etc.
                    Therefore, you should increase all lengths, linear velocities and impulses in the
                    simulation settings by an adequate factor. (Factor 100 for lengths and velocities.
                    Factor 100 or more for impulses - depends on whether the masses are also different.)
                </p><p>
                    The opposite case is when the game uses a smaller scale where all objects are only
                    0.01 units or less. In this case you will need to decrease all lengths, linear
                    velocities and impulses by an adequate factor. (Factor 1/100 for lengths and
                    velocities. Factor 1/100 or smaller for impulses.)
                </p><p>
                    There is one additional thing you need to do when your objects are really, really
                    small: The DigitalRune libraries use two configurable epsilon values:
                    <a href="edc0896c-5b36-89a3-0ee8-75da8ac7f703.htm">Numeric<span id="LSTAE5C52AC_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_14?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>EpsilonF</a>
                    and
                    <a href="c1d26e76-340c-ba1b-39a4-ff09e4881e98.htm">CollisionDetection<span id="LSTAE5C52AC_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_15?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Epsilon</a>.
                    The epsilon values are used in floating-point comparisons and are required because we
                    are working with floating-point numbers with limited precision (internal: float =
                    single precision = 32 bit). The first epsilon value is used in general math operations.
                    The second is used specifically in the collision detection (and is much larger than
                    the normal epsilon).
                </p><p>
                    The libraries automatically scale the epsilon values when working with large numbers
                    (values &gt;&gt; 1). So simulating a world with a larger scale is no problem. But the epsilon
                    is not automatically scaled if the values are very small (values &lt;&lt; 1). In this
                    case the epsilon values need to be adjusted manually. (Note: We haven't yet
                    encountered a case where we actually had to adjust the epsilon values. However, we
                    usually do not simulate objects smaller than 1 cm.)
                </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Case #3: Game simulates both extremely small objects and very large objects</span></div><div id="ID3RBSection" class="collapsibleSection"><p>
                    Consider a game that contains both large objects (e.g. a crate with 1 m) and very small
                    objects (e.g. a die with 1 cm). Now, if the large object falls onto the small objects it
                    applies a force that is extremely big in relation to the size of the small object. In
                    order to solve this situation adequately the simulation needs to perform more time steps
                    and iterations than normally.
                </p><p>
                    You should do the following:
                </p><ul><li>
                        Decrease the size of a single time step (see
                        <a href="90ffca37-a52c-c514-7804-e85ad89fde16.htm">TimingSettings<span id="LSTAE5C52AC_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_16?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>FixedTimeStep</a>),
                    </li><li>
                        and increase the max number of time steps per update (see
                        <a href="f9c31a37-751a-d626-8eb2-28539f710bde.htm">TimingSettings<span id="LSTAE5C52AC_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTAE5C52AC_17?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MaxNumberOfSteps</a>).
                    </li></ul><p>
                    Another example of case #3 is when the game objects are very small (~1 cm), but the
                    gravity is normal (9.81 m/s²). In this case the gravity accelerates an object by a great
                    amount - even in a fraction of a second.
                </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Samples</span></div><div id="ID4RBSection" class="collapsibleSection"><p>
                    The physics
                    <a href="dde51686-4f07-4c54-95d4-756ec929cb57.htm">Samples</a> contain a sample, which shows
                    how to set up the simulation for a different scale: "27-SmallerScaleSample"
                </p></div></div></div><div id="pageFooter" class="pageFooter">Copyright (c) 2006-2016 DigitalRune GmbH. All rights reserved. (Last updated: 2016-03-10)<p><a href="http://www.digitalrune.com/" target="_blank">http://www.digitalrune.com/</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:office%40digitalrune.com?Subject=DigitalRune Documentation">office@digitalrune.com</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>