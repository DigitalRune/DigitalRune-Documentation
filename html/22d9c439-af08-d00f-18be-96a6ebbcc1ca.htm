<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>OcclusionBuffer Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="OcclusionBuffer class" /><meta name="System.Keywords" content="DigitalRune.Graphics.Rendering.OcclusionBuffer class" /><meta name="System.Keywords" content="OcclusionBuffer class, about OcclusionBuffer class" /><meta name="Microsoft.Help.F1" content="DigitalRune.Graphics.Rendering.OcclusionBuffer" /><meta name="Microsoft.Help.Id" content="T:DigitalRune.Graphics.Rendering.OcclusionBuffer" /><meta name="Description" content="Represents an occlusion buffer that supports frustum culling, distance culling, occlusion culling, and shadow caster culling." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="DigitalRune.Graphics.Rendering" /><meta name="file" content="22d9c439-af08-d00f-18be-96a6ebbcc1ca" /><meta name="guid" content="22d9c439-af08-d00f-18be-96a6ebbcc1ca" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">DigitalRune Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="38bd0f53-477c-48c5-91cc-b9fb7062ceb3.htm" title="DigitalRune Documentation" tocid="roottoc">DigitalRune Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d75eb659-6335-53f6-af7a-81814a21ab7f.htm" title="Class Library Reference" tocid="d75eb659-6335-53f6-af7a-81814a21ab7f">Class Library Reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="8aef5e3f-fb5a-58b3-6317-bfb5415921ed.htm" title="DigitalRune.Graphics.Rendering" tocid="8aef5e3f-fb5a-58b3-6317-bfb5415921ed">DigitalRune.Graphics.Rendering</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="22d9c439-af08-d00f-18be-96a6ebbcc1ca.htm" title="OcclusionBuffer Class" tocid="22d9c439-af08-d00f-18be-96a6ebbcc1ca">OcclusionBuffer Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="74478ed0-3f08-006d-da93-10a927186af8.htm" title="OcclusionBuffer Constructor " tocid="74478ed0-3f08-006d-da93-10a927186af8">OcclusionBuffer Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d5194726-361c-7f1c-a7a0-1e3e3d8087fd.htm" title="OcclusionBuffer Methods" tocid="d5194726-361c-7f1c-a7a0-1e3e3d8087fd">OcclusionBuffer Methods</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="539be49c-1667-450a-8677-2c18f05ca19e.htm" title="OcclusionBuffer Properties" tocid="539be49c-1667-450a-8677-2c18f05ca19e">OcclusionBuffer Properties</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="DigitalRune" src="../icons/DigitalRune-Logo.png" /></td><td class="titleColumn">OcclusionBuffer Class</td></tr></table><span class="introStyle"></span><div class="summary">
            Represents an occlusion buffer that supports frustum culling, distance culling, occlusion 
            culling, and shadow caster culling.
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LSTA6744664_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="selflink">DigitalRune.Graphics.Rendering<span id="LSTA6744664_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>OcclusionBuffer</span><br /></div><p> </p><strong>Namespace:</strong> <a href="8aef5e3f-fb5a-58b3-6317-bfb5415921ed.htm">DigitalRune.Graphics.Rendering</a><br /><strong>Assembly:</strong> DigitalRune.Graphics (in DigitalRune.Graphics.dll) Version: 1.2.0.0 (1.2.1.14562)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','cs','1','4');return false;">C#</a></div><div id="ID1EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','vb','2','4');return false;">VB</a></div><div id="ID1EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','cpp','3','4');return false;">C++</a></div><div id="ID1EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EDCA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID1EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">OcclusionBuffer</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID1EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">OcclusionBuffer</span>
	<span class="keyword">Implements</span> <span class="identifier">IDisposable</span></pre></div><div id="ID1EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">OcclusionBuffer</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID1EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">type</span> <span class="identifier">OcclusionBuffer</span> =  
    <span class="keyword">class</span>
        <span class="keyword">interface</span> <span class="identifier">IDisposable</span>
    <span class="keyword">end</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EDCA");</script></div><p>The <span class="selflink">OcclusionBuffer</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID3RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="4fd4fac6-08d5-c471-18a8-01c2b02fc388.htm">OcclusionBuffer(IGraphicsService)</a></td><td><div class="summary">
            Initializes a new instance of the <span class="selflink">OcclusionBuffer</span> with a default size of 
            512 x 256 and a triangle buffer size of 21845.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="78839da1-d7ac-4b5a-edfd-594f0251773f.htm">OcclusionBuffer(IGraphicsService, Int32, Int32, Int32)</a></td><td><div class="summary">
            Initializes a new instance of the <span class="selflink">OcclusionBuffer</span> class with the specified
            buffer size.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID4RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f88e12f4-1184-377d-a94f-e9897cbdb3ed.htm">Dispose<span id="LSTA6744664_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_2?cs=()|vb=|cpp=()|nu=()|fs=()");</script></a></td><td><div class="summary">
            Releases all resources used by an instance of the <span class="selflink">OcclusionBuffer</span> class.
            </div></td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="f19b9740-3f6f-761a-e5a9-0012df6908e6.htm">Dispose(Boolean)</a></td><td><div class="summary">
            Releases the unmanaged resources used by an instance of the <span class="selflink">OcclusionBuffer</span>
            class and optionally releases the managed resources.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/bsc2ak47" target="_blank">Equals</a></td><td><div class="summary">Determines whether the specified <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a> is equal to the current <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/4k87zsw7" target="_blank">Finalize</a></td><td><div class="summary">Allows an object to try to free resources and perform other cleanup operations before it is reclaimed by garbage collection.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/zdee4b3y" target="_blank">GetHashCode</a></td><td><div class="summary">Serves as a hash function for a particular type. </div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/dfwy45w9" target="_blank">GetType</a></td><td><div class="summary">Gets the <a href="http://msdn2.microsoft.com/en-us/library/42892f65" target="_blank">Type</a> of the current instance.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="ce06ca3f-cf86-4b21-552c-ec9eec4a2d47.htm">IsOccluder</a></td><td><div class="summary">
            Determines whether the specified scene node acts as an occluder during occlusion culling.
            </div></td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/57ctke0a" target="_blank">MemberwiseClone</a></td><td><div class="summary">Creates a shallow copy of the current <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="83a7716f-3c72-8acc-5b6b-2ccdad1ef086.htm">Query</a></td><td><div class="summary">
            Tests the specified scene nodes against the occlusion buffer to check which scene nodes are
            visible. (Performs frustum culling, distance culling, occlusion culling, and shadow caster
            culling.)
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f946a6b9-d1d8-5983-1e21-3fc842b3b429.htm">Render(IList<span id="LSTA6744664_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_3?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_4?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a></td><td><div class="summary">
            Clears the occlusion buffer and renders the specified list of occluders.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="66d459ce-34f9-1a67-d351-917b7ecd8c7a.htm">Render(IList<span id="LSTA6744664_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_5?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_6?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, SceneNodeRenderer, RenderContext)</a></td><td><div class="summary">
            Clears the occlusion buffer and renders the specified list of occluders.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="92762c38-f6d9-0180-9638-fd3f896b3dfe.htm">Render(IList<span id="LSTA6744664_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_7?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_8?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LightNode, RenderContext)</a></td><td><div class="summary">
            Clears the occlusion buffer and renders the specified list of occluders.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="b1f3d784-bc09-47b0-ae41-f2ed9c3dbf93.htm">Render(IList<span id="LSTA6744664_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_9?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_10?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LightNode, SceneNodeRenderer, RenderContext)</a></td><td><div class="summary">
            Clears the occlusion buffer and renders the specified list of occluders.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="669ed252-75ce-9824-db36-65521034f68f.htm">ResetShadowCasters</a></td><td><div class="summary">
            Resets state of the shadow casters.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/7bxwbwt2" target="_blank">ToString</a></td><td><div class="summary">Returns a string that represents the current object.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="806eea40-1738-cd31-0e46-6590bcb624c5.htm">VisualizeCameraBuffer</a></td><td><div class="summary">
            Debugging: Visualizes a level of the camera's hierarchical Z buffer.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="5ea66697-000c-afe7-9f5f-a89873cbd27e.htm">VisualizeLightBuffer</a></td><td><div class="summary">
            Debugging: Visualizes a level of the light's hierarchical Z buffer. (Only valid when shadow
            caster culling is used.)
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="dd1cc393-a7bc-1184-1314-dcf1bfadea4c.htm">VisualizeObject</a></td><td><div class="summary">
            Debugging: Visualizes the occlusion query for the specified scene node.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0af6514b-ddb4-70d4-27fe-b966aae33157.htm">VisualizeShadowCaster</a></td><td><div class="summary">
            Debugging: Visualizes the occlusion query for the specified shadow caster.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="10ea3476-1b01-9537-76b9-03dfd6cb9e34.htm">VisualizeShadowVolume</a></td><td><div class="summary">
            Debugging: Visualizes the occlusion query for the specified shadow volume.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="ID5RBSection" class="collapsibleSection"><table id="memberList" class="members"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="31f5a989-9137-bdca-4e72-82e5a452dd1c.htm">EnableMultithreading</a></td><td><div class="summary">
            Gets or sets a value indicating whether multithreading is enabled.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="499310ee-0775-c7fc-f2c6-d1a3cafb4012.htm">IsDisposed</a></td><td><div class="summary">
            Gets a value indicating whether this instance has been disposed of.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="786fad98-79ff-855d-4c00-9a487714e0ac.htm">ProgressiveShadowCasterCulling</a></td><td><div class="summary">
            Gets or sets a value indicating whether progressive shadow caster culling is enabled.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="ced831b9-045c-2c7a-6727-206e4e9f9677.htm">Statistics</a></td><td><div class="summary">
            Gets the occlusion culling statistics.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID6RBSection" class="collapsibleSection"><p>
            The occlusion buffer can be used to determine which objects in a scene need to be rendered.
            Objects that are outside the viewing frustum or occluded by other objects don't have to be
            processed during rendering. The occlusion buffer implements <i>frustum culling</i>,
            <i>distance culling</i>, <i>occlusion culling</i>, and <i>shadow caster culling</i>.
            </p><p>
            To use occlusion culling: The method <a href="f946a6b9-d1d8-5983-1e21-3fc842b3b429.htm">Render(IList<span id="LSTA6744664_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_11?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_12?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a>
            clears the occlusion buffer and renders all occluders. This method needs to be called once per
            frame, even if there are no occluders in the scene. <a href="83a7716f-3c72-8acc-5b6b-2ccdad1ef086.htm">Query(IList<span id="LSTA6744664_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_13?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_14?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> performs culling on a
            list of scene nodes. Scene nodes that are culled are replaced by null entries in the list.
            </p><p><strong>Frustum Culling:</strong><br />
            The occlusion buffer implements frustum culling to determine which objects are within the
            viewing frustum of the camera. Objects outside the viewing frustum are hidden from the camera
            and do not have to be rendered. (The occlusion buffer can be used for frustum culling instead
            of using <a href="37c07613-e89b-1421-2947-71255d94933b.htm">scene queries</a>.)
            </p><p>
            The following example shows how to use the occlusion buffer for frustum culling. The active
            camera needs to be set in the render context.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EAWABA_tab1" class="codeSnippetContainerTabSingle">Example: Frustum culling using the occlusion buffer</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAWABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EAWABA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAWABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">// Clear the occlusion buffer.</span>
occlusionBuffer.Render(<span class="highlight-keyword">null</span>, context);

<span class="highlight-comment">// Perform frustum culling on the list of scene nodes. </span>
<span class="highlight-comment">// (Scene nodes that culled are replaced by null entries.)</span>
occlusionBuffer.Query(sceneNodes, context);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAWABA");</script><p><strong>Distance Culling and LOD Distance:</strong><br />
            (Prerequisite: <a href="fd0935c3-e5f6-fd1d-5f9d-47b8d222e2f7.htm">LodCameraNode</a> needs to be set in the render
            context!)
            </p><p>
            The occlusion buffer automatically calculates the LOD distance of each scene node in 
            <a href="83a7716f-3c72-8acc-5b6b-2ccdad1ef086.htm">Query(IList<span id="LSTA6744664_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_15?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_16?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> and performs distance culling if a <a href="42f41e06-fa8e-2944-956e-0b4c788d1967.htm">MaxDistance</a> is
            set. Scene nodes that are beyond their max draw distance are removed. The LOD distance of the
            remaining scene nodes is stored in <a href="0e13391a-2d83-21db-7a0b-920f20f374db.htm">SortTag</a>. This value can be used for
            LOD selection (see <a href="3245d6a2-5855-981a-7118-5eef2136de75.htm">LodGroupNode</a> and <a href="8928eaec-020b-00ed-4ad7-12f83aa1338a.htm">ISceneQuery</a>).
            </p><p><strong>Occlusion Culling:</strong><br />
            Occlusion culling is the process of determining which objects are hidden from a certain
            viewpoint. This is achieved by testing the scene nodes against a set of occluders. An
            <i>occluder</i> is an object within a scene that obscures the view and prevents objects behind
            it from being seen.
            </p><p>
            By calling <a href="f946a6b9-d1d8-5983-1e21-3fc842b3b429.htm">Render(IList<span id="LSTA6744664_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_17?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_18"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_18?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> all occluders within a scene
            are rendered into a depth buffer. The following objects act as occluders during occlusion
            culling:
            </p><ul><li><a href="51b53826-34b8-c5e3-9318-cdc17adcc97a.htm">OccluderNode</a>s
            </li><li><a href="150b5feb-ef12-d0be-cd27-0a32759af0ba.htm">MeshNode</a>s with occluders (property <a href="f3eea24d-f5d5-2366-6591-c7832350f25b.htm">Occluder</a>)
            </li><li><a href="3245d6a2-5855-981a-7118-5eef2136de75.htm">LodGroupNode</a>s if the highest level of detail ("LOD0") is an
            <a href="51b53826-34b8-c5e3-9318-cdc17adcc97a.htm">OccluderNode</a> or a <a href="150b5feb-ef12-d0be-cd27-0a32759af0ba.htm">MeshNode</a> with an occluder
            </li><li>
            Any <a href="206bf836-6510-1c9d-02d4-c0c9a30a75a0.htm">SceneNode</a> can act as an occluder if the appropriate
            <a href="c022a3a4-2330-9b46-24ad-c8f3ae13f1f8.htm">SceneNodeRenderer</a> is passed to 
            <a href="b1f3d784-bc09-47b0-ae41-f2ed9c3dbf93.htm">Render(IList<span id="LSTA6744664_19"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_19?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_20"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_20?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LightNode, SceneNodeRenderer, RenderContext)</a>.
            </li></ul><p><a href="83a7716f-3c72-8acc-5b6b-2ccdad1ef086.htm">Query(IList<span id="LSTA6744664_21"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_21?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_22"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_22?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> can be called to test whether scene nodes are visible. (The bounds of the
            scene nodes are compared with the current occlusion buffer.)
            </p><p>
            The following example shows how to use the occlusion buffer for occlusion culling.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EAOABA_tab1" class="codeSnippetContainerTabSingle">Example: Occlusion culling using the occlusion buffer</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAOABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EAOABA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAOABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">// Render the occluders into the occlusion buffer.</span>
occlusionBuffer.Render(occluders, <span class="highlight-keyword">null</span>, <span class="highlight-keyword">null</span>, context);

<span class="highlight-comment">// Perform occlusion culling on the list of scene nodes.</span>
<span class="highlight-comment">// (Scene nodes that are culled are replaced by null entries.)</span>
occlusionBuffer.Query(sceneNodes, context);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAOABA");</script><p>
            The next example shows how to render custom scene nodes into the occlusion buffer. For
            example, <a href="150b5feb-ef12-d0be-cd27-0a32759af0ba.htm">MeshNode</a>s that support an "Occluder" render pass can be rendered
            directly into the occlusion buffer if the appropriate render is provided.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EAMABA_tab1" class="codeSnippetContainerTabSingle">Example: Rendering custom occluders</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAMABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EAMABA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAMABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">// Render the occluders into the occlusion buffer. MeshNodes that do not have an</span>
<span class="highlight-comment">// occluder but have an "Occluder" render pass are rendered using the MeshRenderer.</span>
context.RenderPass = <span class="highlight-literal">"Occluder"</span>;
occlusionBuffer.Render(occluders, <span class="highlight-keyword">null</span>, meshRenderer, context);
context.RenderPass = <span class="highlight-keyword">null</span>;

<span class="highlight-comment">// Perform occlusion culling on the list of scene nodes.</span>
<span class="highlight-comment">// Scene nodes that are culled are replaced by null entries.</span>
occlusionBuffer.Query(sceneNodes, context);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAMABA");</script><p><strong>Shadow Caster Culling:</strong><br />
            Shadow caster culling determines which shadows contribute to the final image. If the shadow
            cast by an object is not visible, the object can be culled and does not need to be rendered
            into the shadow map.
            </p><p>
            The occlusion buffer implements shadow caster culling for the main directional light of a
            scene. Multiple directional lights with shadows are not supported.
            </p><p>
            Shadow caster culling involves the following tests:
            </p><ol><li>
            Frustum culling in light space: The shadow caster is tested against the light frustum.
            </li><li>
            Occlusion culling in light space: The shadow caster is tested against the occluders from the
            light's point of view.
            </li><li>
            Then the extent of the shadow volume is determined. The actual extent of the shadow volume is
            unknown. When "progressive" shadow caster culling is enabled (see property 
            <a href="786fad98-79ff-855d-4c00-9a487714e0ac.htm">ProgressiveShadowCasterCulling</a>), the occlusion buffer estimates the extent of
            the shadow volume. When "conservative" shadow caster culling is enabled, the occlusion buffer
            assumes that shadow volume simply extends to the edge of the light space.
            </li><li>
            Frustum culling camera space: The shadow volume is tested against the camera frustum.
            </li><li>
            Occlusion culling camera space: The shadow volume is tested against the occluders from the
            camera's point of view.
            </li></ol><p>
            "Progressive" shadow caster culling is more aggressive than "conservative" shadow caster
            culling, but may cause problems: In some cases it is not possible to estimate the correct
            extent of the shadow volume. A shadow caster might be culled, even though its shadow should be
            visible. Shadows can start to flicker. In these cases "progressive" shadow caster culling
            needs to be disabled. The property <a href="786fad98-79ff-855d-4c00-9a487714e0ac.htm">ProgressiveShadowCasterCulling</a> determines
            whether progressive shadow caster culling is active.
            </p><p>
            To perform shadow caster culling the main directional light needs to be passed to the
            <a href="92762c38-f6d9-0180-9638-fd3f896b3dfe.htm">Render(IList<span id="LSTA6744664_23"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_23?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_24"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_24?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LightNode, RenderContext)</a> method.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EAFABA_tab1" class="codeSnippetContainerTabSingle">Example: Occlusion culling and shadow caster culling</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAFABA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID1EAFABA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAFABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">// Render the occluders into the occlusion buffer.</span>
<span class="highlight-comment">// lightNode is the main directional light that casts shadows.</span>
occlusionBuffer.Render(occluders, lightNode, context);

<span class="highlight-comment">// Perform occlusion culling and shadow caster culling on the</span>
<span class="highlight-comment">// list of scene nodes.</span>
occlusionBuffer.Query(sceneNodes, context);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAFABA");</script><p>
            Shadow caster that are culled are internally marked using a flag. The
            <a href="50fe6abc-deec-f38d-d866-9d6558a2ebdf.htm">ShadowMapRenderer</a> will automatically skip these scene nodes.
            </p><p><strong>Performance:</strong><br />
            The methods <a href="f946a6b9-d1d8-5983-1e21-3fc842b3b429.htm">Render(IList<span id="LSTA6744664_25"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_25?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_26"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_26?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> and <a href="83a7716f-3c72-8acc-5b6b-2ccdad1ef086.htm">Query(IList<span id="LSTA6744664_27"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_27?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_28"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_28?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> can
            be called multiple times per frame. However, each call has a certain latency. It is therefore
            recommended to batch all occluders and scene nodes and call the methods only once per frame.
            </p><p>
            Occlusion culling is preformed on the GPU. The occlusion culling results needs to be read back
            from the GPU to the CPU, which may stall the pipeline. Depending on various factors (platform,
            timing, GPU load, etc.), the process may take less than a millisecond or up to several
            milliseconds. Occlusion culling should only be used when there is an overall performance gain.
            This can only be determined by experimentation.
            </p><p><strong>Render Target and Viewport:</strong><br />
            Occlusion culling is performed on the GPU. The methods
            <a href="f946a6b9-d1d8-5983-1e21-3fc842b3b429.htm">Render(IList<span id="LSTA6744664_29"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_29?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_30"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_30?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> and <a href="83a7716f-3c72-8acc-5b6b-2ccdad1ef086.htm">Query(IList<span id="LSTA6744664_31"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_31?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>SceneNode<span id="LSTA6744664_32"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTA6744664_32?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RenderContext)</a> override the
            current render target of the graphics device. The render target and the viewport of the
            graphics device are undefined after these methods were executed.
            </p><p>
            The <strong>Visualize</strong> methods render into the current render target and viewport of
            the graphics device.
            </p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID7RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="8aef5e3f-fb5a-58b3-6317-bfb5415921ed.htm">DigitalRune.Graphics.Rendering Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter">Copyright (c) 2006-2016 DigitalRune GmbH. All rights reserved. (Last updated: 2016-03-10)<p><a href="http://www.digitalrune.com/" target="_blank">http://www.digitalrune.com/</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:office%40digitalrune.com?Subject=DigitalRune Documentation">office@digitalrune.com</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> </div></body></html>