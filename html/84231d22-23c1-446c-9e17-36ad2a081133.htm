<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Multithreading</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="84231d22-23c1-446c-9e17-36ad2a081133" /><meta name="Description" content="This section describes how to configure multithreading in DigitalRune Physics." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">DigitalRune Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="38bd0f53-477c-48c5-91cc-b9fb7062ceb3.htm" title="DigitalRune Documentation" tocid="roottoc">DigitalRune Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="79a8677d-9460-4118-b27b-cef353dfbd92.htm" title="DigitalRune Physics" tocid="79a8677d-9460-4118-b27b-cef353dfbd92">DigitalRune Physics</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="81a6e7ab-bdd3-43d6-b20c-5322ff3f936a.htm" title="Advanced Topics" tocid="81a6e7ab-bdd3-43d6-b20c-5322ff3f936a">Advanced Topics</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="a8933d84-3eee-430c-a472-4fe0db5c1ecd.htm" title="Collision Response Filter" tocid="a8933d84-3eee-430c-a472-4fe0db5c1ecd">Collision Response Filter</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="b52c86be-d31e-4c6f-9892-331af87a0703.htm" title="Continuous Collision Detection" tocid="b52c86be-d31e-4c6f-9892-331af87a0703">Continuous Collision Detection</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="fae52e31-ede2-451e-b107-e42db486d69c.htm" title="Simulation Islands" tocid="fae52e31-ede2-451e-b107-e42db486d69c">Simulation Islands</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="059ddf90-e473-470c-a59c-ee26feff7d12.htm" title="Sleeping" tocid="059ddf90-e473-470c-a59c-ee26feff7d12">Sleeping</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="c4a491c9-bc08-48fa-b85f-7bac2e78e295.htm" title="Timing" tocid="c4a491c9-bc08-48fa-b85f-7bac2e78e295">Timing</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="84231d22-23c1-446c-9e17-36ad2a081133.htm" title="Multithreading" tocid="84231d22-23c1-446c-9e17-36ad2a081133">Multithreading</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="99a61094-6bb9-495a-a037-99bd06d401d6.htm" title="Resource Pooling" tocid="99a61094-6bb9-495a-a037-99bd06d401d6">Resource Pooling</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="bf6f855b-d3b3-49c0-a341-a31f922bb4da.htm" title="Units and Scale" tocid="bf6f855b-d3b3-49c0-a341-a31f922bb4da">Units and Scale</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="DigitalRune" src="../icons/DigitalRune-Logo.png" /></td><td class="titleColumn">Multithreading</td></tr></table><span class="introStyle"></span><div class="introduction"><p>This section describes how to configure multithreading in DigitalRune Physics.</p></div><div class="collapsibleAreaRegion" id="Multithreading"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Multithreading in DigitalRune Physics</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
                    A physics simulation has integrated support for multithreading to automatically distribute the
                    workload across multiple CPU cores.
                </p><p>
                    A <a href="34c3f9ce-54ab-b65e-7652-aaf491c08633.htm">Simulation</a>
                    contains a <a href="92eb27e8-297a-7a5f-df8b-88c15b8ba889.htm">CollisionDomain</a>
                    that detects collision between objects. The collision detection can be configure to run in parallel
                    by setting the property <a href="8ce9ef3a-5524-7d9b-818e-ac04abdb6492.htm">CollisionDomain<span id="LST4CEE69AB_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST4CEE69AB_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>EnableMultithreading</a>.
                    See also: <a href="9df3b4b6-1218-43b8-be9e-319d97a5b9a0.htm">Multithreading in DigitalRune Geometry</a></p><p>
                    The physics simulation can also be configured to run in parallel by setting the property
                    <a href="1fcfca66-4484-c745-3b73-9efa9074beed.htm">SimulationSettings<span id="LST4CEE69AB_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST4CEE69AB_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>EnableMultithreading</a>
                    in the <a href="44c4dcc8-a36e-813a-e70e-58d1e6916f94.htm">Settings</a>.
                    When multithreading is enabled all updates and simulations islands are solved in parallel.
                </p><p>
                    Multithreading is enabled by default on systems with multiple CPU cores (typical PCs and the Xbox 360).
                    You need to disable these two properties if you decide to run the collision detection and physics
                    simulation on a single thread.
                </p><p>
                    The multithreading support is provided by the
                    <a href="dc44c3a5-8545-4253-9da1-62258a00607c.htm">DigitalRune Base Library</a>. The namespace
                    <a href="34755e8a-951a-369c-717a-134c9c1a337e.htm">DigitalRune.Threading</a>
                    provides a task-based threading library that works cross-platform. The solution is highly
                    optimized for the .NET Compact Framework to achieve maximum performance on the Xbox 360.
                </p><p>
                    The DigitalRune libraries make extensive use of this threading library. You should take
                    advantage of the library if you plan to implement concurrency in your application.
                    The threading solution is fully configurable and the included task scheduler can automatically
                    balance the workload across all available CPU cores.
                    See class
                    <a href="80257661-725a-be38-7bf1-7f97e6a3b94e.htm">Parallel</a>
                    to find out more.
                </p><div class="alert"><table><tr><th><img src="../icons/AlertCaution.png" alt="Caution note" /> Caution</th></tr><tr><td><p>
                        It is not recommended to use multiple threading solutions in one application. Using multiple
                        independent solutions can lead to bad load balancing and oversubscription. The additional
                        overhead can cause a performance hit.
                    </p></td></tr></table></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID1RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="8ce9ef3a-5524-7d9b-818e-ac04abdb6492.htm">CollisionDomain<span id="LST4CEE69AB_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST4CEE69AB_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>EnableMultithreading</a></div><div class="seeAlsoStyle"><a href="1fcfca66-4484-c745-3b73-9efa9074beed.htm">SimulationSettings<span id="LST4CEE69AB_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST4CEE69AB_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>EnableMultithreading</a></div><div class="seeAlsoStyle"><a href="80257661-725a-be38-7bf1-7f97e6a3b94e.htm">DigitalRune.Threading<span id="LST4CEE69AB_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST4CEE69AB_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Parallel</a></div><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="9df3b4b6-1218-43b8-be9e-319d97a5b9a0.htm">Multithreading in DigitalRune Geometry</a></div></div></div></div><div id="pageFooter" class="pageFooter">Copyright (c) 2006-2016 DigitalRune GmbH. All rights reserved. (Last updated: 2016-03-10)<p><a href="http://www.digitalrune.com/" target="_blank">http://www.digitalrune.com/</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:office%40digitalrune.com?Subject=DigitalRune Documentation">office@digitalrune.com</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>