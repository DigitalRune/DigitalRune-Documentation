<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>How To: Load a 3D Collision Model Using the XNA Content Pipeline</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="6268b551-b34f-47a4-9513-d7ba700f08fe" /><meta name="Description" content="This article discusses how you can define collision shapes for a 3D model. This sample can be found in the ." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">DigitalRune Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="38bd0f53-477c-48c5-91cc-b9fb7062ceb3.htm" title="DigitalRune Documentation" tocid="roottoc">DigitalRune Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="335dc86a-c68d-4d7b-8641-81dd80de5e76.htm" title="DigitalRune Geometry" tocid="335dc86a-c68d-4d7b-8641-81dd80de5e76">DigitalRune Geometry</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="76e11a96-42a4-495c-b8f8-6164a67d05d5.htm" title="Articles" tocid="76e11a96-42a4-495c-b8f8-6164a67d05d5">Articles</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="833445f6-4042-40e7-a489-0b6ed790428c.htm" title="How To: Add DigitalRune Geometry to a Project" tocid="833445f6-4042-40e7-a489-0b6ed790428c">How To: Add DigitalRune Geometry to a Project</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="9a927200-8841-4c76-94bc-29c5633c5d38.htm" title="How To: Compute World and View Matrix using Pose" tocid="9a927200-8841-4c76-94bc-29c5633c5d38">How To: Compute World and View Matrix using Pose</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="23a00744-a02d-4830-9104-5b978cf74882.htm" title="How To: Compute the Minimal Distance of Objects" tocid="23a00744-a02d-4830-9104-5b978cf74882">How To: Compute the Minimal Distance of Objects</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="20035425-d861-43db-91c2-a4b4d30cbc16.htm" title="How To: Compute Contacts between Objects" tocid="20035425-d861-43db-91c2-a4b4d30cbc16">How To: Compute Contacts between Objects</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="7fc08da6-fe1c-4cfe-ad65-743d08b2b0ba.htm" title="How To: Create a Mesh of a Convex Hull" tocid="7fc08da6-fe1c-4cfe-ad65-743d08b2b0ba">How To: Create a Mesh of a Convex Hull</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="6268b551-b34f-47a4-9513-d7ba700f08fe.htm" title="How To: Load a 3D Collision Model Using the XNA Content Pipeline" tocid="6268b551-b34f-47a4-9513-d7ba700f08fe">How To: Load a 3D Collision Model Using the XNA Content Pipeline</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="138fc8fe-c536-40e0-af6b-0fb7e8eb9623.htm" title="Continuous Collision Detection (Background Information)" tocid="138fc8fe-c536-40e0-af6b-0fb7e8eb9623">Continuous Collision Detection (Background Information)</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="ab8276b7-a27e-43f3-8c23-4b7be065ff91.htm" title="External Articles" tocid="ab8276b7-a27e-43f3-8c23-4b7be065ff91">External Articles</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="DigitalRune" src="../icons/DigitalRune-Logo.png" /></td><td class="titleColumn">How To: Load a 3D Collision Model Using the XNA Content Pipeline</td></tr></table><span class="introStyle"></span><div class="introduction"><p>
                This article discusses how you can define collision shapes for a 3D model. This sample can
                be found in the <a href="dde51686-4f07-4c54-95d4-756ec929cb57.htm">Samples</a>.
            </p><p>
                In almost all 3D games collisions between complex shaped objects must be detected. For
                collision detection the triangle meshes can be used directly but this is a lot slower than
                using boxes, spheres or convex shapes. Therefore, for each model a collision model should
                be created that consists only of simple primitives. This collection of shapes approximates
                the shape of the detailed 3D graphics model. This article discusses how we can use the XNA
                content pipeline to load shapes from a collision model created in a 3D modeling tool.
            </p><p>This topic contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#GraphicsModel">The graphics model</a></li><li class="outlineSectionEntry"><a href="#CollisionModel">The collision model</a></li><li class="outlineSectionEntry"><a href="#Naming">Naming scheme</a></li><li class="outlineSectionEntry"><a href="#Sample">Sample</a></li></ul></div><div class="collapsibleAreaRegion" id="GraphicsModel"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />The graphics model</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
                    Here is a space ship model from the opened in
                    <a href="http://www.blender.org/" target="_blank">Blender</a>:
                </p><div class="mediaNear"><img alt="Collision-Model-01" src="../media/Collision-Model-01.jpg" /></div><p>
                    The model consists of several thousand faces – not ideal for collision detection.
                </p></div><div class="collapsibleAreaRegion" id="CollisionModel"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />The collision model</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
                    For practical collision detection we have created a collision model that consists only
                    of a few boxes, spheres and convex shapes. It is a crude approximation of the detailed
                    graphics model – but sufficiently detailed for most cases.
                </p><div class="mediaNear"><img alt="Collision-Model-02" src="../media/Collision-Model-02.jpg" /></div><p>
                    Using a 3D modeling tool for placing the approximated collision shapes is a lot more
                    practical than defining the collision shapes in source code.
                </p><p>
                    Next, we need a way to load this data in our XNA game. With the standard XNA model
                    processor we can load the model but at runtime this leaves us only with the triangle mesh
                    data. What we really need are boxes, spheres, etc. Therefore, we need a custom content
                    processor for the XNA content pipeline.
                </p></div><div class="collapsibleAreaRegion" id="Naming"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Naming scheme</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
                    When a collision model is imported in the content pipeline, triangle mesh data is
                    imported. That means, instead of a box the content processor sees a triangle mesh with
                    8 vertices. To make the work easier for our content processor we apply a naming scheme to
                    the collision model that is created in Blender. The name of each box collision shape ends
                    with "Box"; for example "LeftFin_Box". Similarly, each sphere is named "XxxSphere" and
                    each convex shape is named "XxxConvex". This naming scheme allows the content processor to
                    know which shape it must create for each mesh in the model.
                </p></div><div class="collapsibleAreaRegion" id="Sample"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Sample</span></div><div id="ID3RBSection" class="collapsibleSection"><p>
                    For source code examples, please have a look a the
                    <em>ContentPipelineSample</em> of the
                    <a href="dde51686-4f07-4c54-95d4-756ec929cb57.htm">Samples</a>.
                </p><p>
                    Here is screenshot of the example. The model that is used for the fancy graphics.
                </p><div class="mediaNear"><img alt="Collision-Model-03" src="../media/Collision-Model-03.jpg" /></div><p>
                    The collision model that is used for collision detection:
                </p><div class="mediaNear"><img alt="Collision-Model-04" src="../media/Collision-Model-04.jpg" /></div></div></div></div><div id="pageFooter" class="pageFooter">Copyright (c) 2006-2016 DigitalRune GmbH. All rights reserved. (Last updated: 2016-03-10)<p><a href="http://www.digitalrune.com/" target="_blank">http://www.digitalrune.com/</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:office%40digitalrune.com?Subject=DigitalRune Documentation">office@digitalrune.com</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>