<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Foot IK</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="147a6b63-6353-40c9-a902-e842759e3eee" /><meta name="Description" content="This topic discusses the T:DigitalRune.Animation.Character.TwoJointIKSolver. This IK solver can be used to control an arm or a leg." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">DigitalRune Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="38bd0f53-477c-48c5-91cc-b9fb7062ceb3.htm" title="DigitalRune Documentation" tocid="roottoc">DigitalRune Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="c2892dfd-491e-4e78-83d1-737e38f1acc9.htm" title="DigitalRune Animation" tocid="c2892dfd-491e-4e78-83d1-737e38f1acc9">DigitalRune Animation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="93178dcc-a9b9-4cc6-b4df-ed693b988561.htm" title="3D Character Animation" tocid="93178dcc-a9b9-4cc6-b4df-ed693b988561">3D Character Animation</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="64fa1edd-5392-421b-b647-6379fea78318.htm" title="Inverse Kinematics" tocid="64fa1edd-5392-421b-b647-6379fea78318">Inverse Kinematics</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="e6f0e7fc-85dd-4722-af1b-dcba453f9418.htm" title="Look-At IK Solver" tocid="e6f0e7fc-85dd-4722-af1b-dcba453f9418">Look-At IK Solver</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="147a6b63-6353-40c9-a902-e842759e3eee.htm" title="Foot IK" tocid="147a6b63-6353-40c9-a902-e842759e3eee">Foot IK</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="DigitalRune" src="../icons/DigitalRune-Logo.png" /></td><td class="titleColumn">Foot IK</td></tr></table><span class="introStyle"></span><div class="introduction"><p>
                This topic discusses the
                <a href="ac1a0734-9844-61c9-92d7-9773c190e6ca.htm">TwoJointIKSolver</a>.
                This IK solver can be used to control an arm or a leg.
            </p><p>This topic contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#Video">Sample and video</a></li><li class="outlineSectionEntry"><a href="#Description">Description</a></li></ul></div><div class="collapsibleAreaRegion" id="Video"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Sample and video</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
                    The <a href="dde51686-4f07-4c54-95d4-756ec929cb57.htm">Samples</a> contain an example
                    which demonstrates how to use the
                    <a href="ac1a0734-9844-61c9-92d7-9773c190e6ca.htm">TwoJointIKSolver</a>
                    for foot placement.
                    Here is a video of this sample:
                </p><ul class="noBullet"><li><p><a href="http://www.youtube.com/watch?v=z-JpNCPUS2U" target="_blank">Video: Foot IK</a></p></li></ul></div><div class="collapsibleAreaRegion" id="Description"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Description</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
                    The
                    <a href="ac1a0734-9844-61c9-92d7-9773c190e6ca.htm">TwoJointIKSolver</a>
                    affects three bones of a character. In the example above: upper leg, lower leg and foot.
                </p><p>
                    The first bone (upper leg) can rotate freely. The second bone (lower leg) is fixed to the
                    first bone with a hinge joint (knee), which rotates around a single axis. The rotation
                    angle can be limited.
                </p><p>
                    (Note that upper leg and lower leg can each consist of several bones. The IK solver keeps
                    the rotations of any intermediate bones constant.)
                </p><p>
                    The orientation of the third bone (foot) can be kept constant by the IK solver, or it can
                    be changed to match a certain target orientation. This can be used to properly place a
                    foot on a sloped surface.
                </p><p>
                    The IK solver requires the ground position and optionally the target orientation of the
                    last bone as input. Typically, a ray-cast is made for each foot to determine the ground
                    distance and the normal vector of the surface. The foot orientation can be derived from
                    the normal vector.
                </p><p>
                    One application of a foot IK solver is, obviously, to place the feet exactly on the
                    ground to avoid hovering feet or feet penetrating the ground.
                </p><p>
                    Another interesting application is to reduce "foot sliding". Foot sliding can appear when
                    key frames are interpolated or when animations are blended: A foot should stay firmly on
                    the ground, but instead it slides laterally over the ground. To avoid foot sliding we
                    need to know in which animation frames the foot should stay on the ground. While these
                    frames are playing, we use the foot IK to glue the foot to a certain position on the
                    ground.
                </p><p>
                    You can find more details in the example’s source code.
                </p></div></div></div><div id="pageFooter" class="pageFooter">Copyright (c) 2006-2016 DigitalRune GmbH. All rights reserved. (Last updated: 2016-03-10)<p><a href="http://www.digitalrune.com/" target="_blank">http://www.digitalrune.com/</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:office%40digitalrune.com?Subject=DigitalRune Documentation">office@digitalrune.com</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>